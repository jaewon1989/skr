<style>
#langsel {
    display: none;
    position: absolute;
    display: none;
    height: auto;
    padding: 10px;
    top: 50px;
    left: -50%;
    background-color: #fff;
    border: 1px solid #999;
    border-radius: 8px;
    box-shadow: 0px 0px 3px #666;
    font-size: 12px;
    text-align: left;
    z-index: 5;
}
#langsel li {
    margin: 10px 0 20px 0;
}
.langbox {position: relative;}
.langbox .flag-wrap {display:inline-block;cursor: pointer;width: 40px;height: 40px;}
#langsel .langimg {
    display: inline-block;
    width: 60px;
    height: auto;
    vertical-align: middle;
    border: solid 1px #d9d9d9;

}

#langsel a {color: #333 !important;font-size: 10pt;}
#langbox-wrap {position: absolute; right: 85px;}
.goog-te-banner-frame.skiptranslate { display: none !important;} 
#goog-gt-tt{display: none !important; top: 0px !important; } 
.goog-tooltip skiptranslate{display: none !important; top: 0px !important; } 
.activity-root { display: none !important;} 
.status-message { display: none !important;}
.started-activity-container { display: none !important;}
</style>

<div id="langbox-wrap">
    <div class="langbox">
        <span class="flag-wrap" >
            <img id="top_lang_img" src="{$g_s}/_core/images/flag/ko1.png" data-role="toggle-langsel">
        </span>

        <div class="langsel" id="langsel">
            <ul>
                <li>
                    <a href="#googtrans(pl|ko)" data-role="trans-act" data-lang="ko">
                       <img class="langimg" src="{$g_s}/_core/images/flag/ko2.png" alt=""> 
                    </a>
                </li>
                <li>
                    <a href="#googtrans(pl|en)" data-role="trans-act" data-lang="en">
                       <img class="langimg" src="{$g_s}/_core/images/flag/en2.png" alt=""> 
                    </a>
                </li>
                <li>
                    <a href="#googtrans(pl|zh-CN)" data-role="trans-act" data-lang="zh">
                        <img class="langimg" src="{$g_s}/_core/images/flag/zh2.png" alt=""> 
                    </a>
                </li>
                <li>
                    <a href="#googtrans(pl|ja)" data-role="trans-act" data-lang="ja">
                        <img class="langimg" src="{$g_s}/_core/images/flag/ja2.png" alt=""> 
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
<script>
// var toggle_btn = $('[data-toggling]'); // 토글링 할 형제 레이어를 갖고있는 버튼
// var translate_btn = $('[data-translang]'); // 번역할 국가 버튼

// 번역 버튼 클릭 
$('[data-role="trans-act"]').on('click',function(){
   var location = $(this).attr('href'); 
   var lang = $(this).data('lang');
   sessionStorage.setItem("now_lang",lang);
   
   window.location=location;
   window.location.reload();
 
});

// 토글링
$('[data-role="toggle-langsel"]').on('click', function(){
   $('#langsel').toggle();
})


// 번역시 국가 국기 변경
var lang_check_interval = '';

function lang_check_action(){
   var now_lang = sessionStorage.getItem("now_lang")?sessionStorage.getItem("now_lang"):'ko';
   var src = rooturl+'/_core/images/flag/'+now_lang+'1.png';
   $('#top_lang_img').attr("src",src);
   // if(now_lang=='ko') $('.cb-box-shadow').css("top","0px");
   // else $('.cb-box-shadow').css("top","40px"); 
   
}

function lang_check(){
    setTimeout(lang_check_action,500); 
}

// $(document).ready(function(){
//    lang_check();
// });
function googleTranslateElementInit() {
 new google.translate.TranslateElement({
 pageLanguage: 'ko',autoDisplay: false 
 }, 'google_translate_element');
 lang_check();
}

</script>
<script src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>